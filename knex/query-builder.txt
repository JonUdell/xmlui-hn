=== Knex.js Query Builder Demo ===

Test Case 1: Search for "docker" in title field
Input: {
  "term": "docker",
  "field": "title",
  "dateRange": {
    "start": "2025-01-01",
    "end": "2025-01-07"
  },
  "limit": 100
}
Generated SQL:
select `id`, replace(substr(time, 0, 11), '-', '/') AS time, `title`, `by`, CAST(score AS integer) AS score, CAST(descendants AS integer) AS descendants, `url`, `fave` from `hn` where `title` like '%docker%' and date(substr(time, 0, 11)) >= date('2025-01-01') and date(substr(time, 0, 11)) <= date('2025-01-07') order by `time` desc, CAST(score AS integer) desc limit 100
Bindings: [ '%docker%', '2025-01-01', '2025-01-07', 100 ]

Executing query...
Found 3 results:
┌─────────┬────────────┬──────────────┬─────────────────────────────────────────────────────────┬────────────────┬───────┐
│ (index) │ id         │ time         │ title                                                   │ by             │ score │
├─────────┼────────────┼──────────────┼─────────────────────────────────────────────────────────┼────────────────┼───────┤
│ 0       │ '42628417' │ '2025/01/07' │ 'Mac is detecting Docker as a malware and keeping i...' │ 'celsoazevedo' │ 3     │
│ 1       │ '42615489' │ '2025/01/06' │ 'Docker on macOS is still slow?'                        │ 'birdculture'  │ 2     │
│ 2       │ '42604293' │ '2025/01/05' │ 'Docker on macOS is still slow?'                        │ 'birdculture'  │ 3     │
└─────────┴────────────┴──────────────┴─────────────────────────────────────────────────────────┴────────────────┴───────┘


Test Case 2: Date range only
Input: {
  "dateRange": {
    "start": "2025-01-01",
    "end": "2025-03-14"
  },
  "limit": 10
}
Generated SQL:
select `id`, replace(substr(time, 0, 11), '-', '/') AS time, `title`, `by`, CAST(score AS integer) AS score, CAST(descendants AS integer) AS descendants, `url`, `fave` from `hn` where date(substr(time, 0, 11)) >= date('2025-01-01') and date(substr(time, 0, 11)) <= date('2025-03-14') order by `time` desc, CAST(score AS integer) desc limit 10
Bindings: [ '2025-01-01', '2025-03-14', 10 ]

Executing query...
Found 10 results:
┌─────────┬────────────┬──────────────┬─────────────────────────────────────────────────────────┬─────────────────┬───────┐
│ (index) │ id         │ time         │ title                                                   │ by              │ score │
├─────────┼────────────┼──────────────┼─────────────────────────────────────────────────────────┼─────────────────┼───────┤
│ 0       │ '43349184' │ '2025/03/13' │ "Meta is trying to block ex-employee's book allegin..." │ 'coloneltcb'    │ 4     │
│ 1       │ '43349187' │ '2025/03/13' │ 'DELETE, DELETE, DELETE [pdf]'                          │ 'croes'         │ 4     │
│ 2       │ '43349197' │ '2025/03/13' │ 'FBI Redactions on Seth Rich Index Leave No Answers'    │ 't-3'           │ 4     │
│ 3       │ '43349038' │ '2025/03/13' │ 'Ask HN: Which X11 server do you use on Android?'       │ 'rahimnathwani' │ 3     │
│ 4       │ '43349115' │ '2025/03/13' │ "'Uber for nurses' exposes 86K+ medical records, PI..." │ 'Twirrim'       │ 3     │
│ 5       │ '43349306' │ '2025/03/13' │ 'Mercedes-Benz Drives Toward Solid-State EV Batteri...' │ 'pseudolus'     │ 3     │
│ 6       │ '43349016' │ '2025/03/13' │ 'Printers start speaking in tongues after Windows 1...' │ 'LinuxBender'   │ 2     │
│ 7       │ '43349021' │ '2025/03/13' │ 'Supercomputer draws molecular blueprint for repair...' │ 'westurner'     │ 2     │
│ 8       │ '43349049' │ '2025/03/13' │ 'Why Some Men Find Orgasms Elusive'                     │ 'Teever'        │ 2     │
│ 9       │ '43349156' │ '2025/03/13' │ 'Meta goes to arbitrator to prevent whistleblower f...' │ 'jarsin'        │ 2     │
└─────────┴────────────┴──────────────┴─────────────────────────────────────────────────────────┴─────────────────┴───────┘


Test Case 3: Search for "javascript" in all fields
Input: {
  "term": "javascript",
  "limit": 50
}
Generated SQL:
select `id`, replace(substr(time, 0, 11), '-', '/') AS time, `title`, `by`, CAST(score AS integer) AS score, CAST(descendants AS integer) AS descendants, `url`, `fave` from `hn` where (`title` like '%javascript%' or `url` like '%javascript%') order by `time` desc, CAST(score AS integer) desc limit 50
Bindings: [ '%javascript%', '%javascript%', 50 ]

Executing query...
Found 50 results:
┌─────────┬────────────┬──────────────┬─────────────────────────────────────────────────────────┬───────────────────┬───────┐
│ (index) │ id         │ time         │ title                                                   │ by                │ score │
├─────────┼────────────┼──────────────┼─────────────────────────────────────────────────────────┼───────────────────┼───────┤
│ 0       │ '43344673' │ '2025/03/12' │ 'Reverse engineering OpenAI code execution to make ...' │ 'benswerd'        │ 180   │
│ 1       │ '43343832' │ '2025/03/12' │ 'A Perplexing JavaScript Parsing Puzzle'                │ 'todsacerdoti'    │ 43    │
│ 2       │ '43347295' │ '2025/03/12' │ 'Ace is an embeddable code editor written in JavaSc...' │ 'okl'             │ 1     │
│ 3       │ '43330797' │ '2025/03/11' │ 'Ask HN: Why is JavaScript the most loved and hated...' │ '01-_-'           │ 1     │
│ 4       │ '43338236' │ '2025/03/11' │ 'Ask HN: Do search engines still not run JavaScript...' │ 'actinium226'     │ 1     │
│ 5       │ '43302812' │ '2025/03/08' │ 'JavaScript best practice: use return await'            │ 'rapawel'         │ 2     │
│ 6       │ '43298785' │ '2025/03/08' │ 'Cropper.js, a simple JavaScript image cropper, now...' │ 'chenfengyuan'    │ 1     │
│ 7       │ '43293139' │ '2025/03/07' │ 'JavaScript best practice: use return await'            │ 'todsacerdoti'    │ 5     │
│ 8       │ '43286788' │ '2025/03/07' │ 'Compilation of JavaScript to WASM, Part 3: Partial...' │ 'luu'             │ 2     │
│ 9       │ '43292537' │ '2025/03/07' │ 'Show HN: Shakespeare in your browser – minimal AI ...' │ 'logicallee'      │ 1     │
│ 10      │ '43294955' │ '2025/03/07' │ 'Adding Jump Animations to the Player in Next JavaS...' │ 'AutistiCoder'    │ 1     │
│ 11      │ '43285297' │ '2025/03/06' │ 'Show HN: You can create promises in JavaScript wit...' │ 'EGreg'           │ 2     │
│ 12      │ '43269022' │ '2025/03/05' │ 'LM Studio Releases Python and JavaScript SDKs'         │ 'kwosei'          │ 7     │
│ 13      │ '43262212' │ '2025/03/05' │ 'PrimJS JavaScript Engine'                              │ 'matlin'          │ 1     │
│ 14      │ '43266272' │ '2025/03/05' │ 'Fusion: Laravel Vite plugin for runnig PHP in Java...' │ 'brianzelip'      │ 1     │
│ 15      │ '43273876' │ '2025/03/05' │ 'Deobfuscate JavaScript code using ChatGPT'             │ 'rob'             │ 1     │
│ 16      │ '43256004' │ '2025/03/04' │ 'OpenJS promotes adoption and continued development...' │ 'doener'          │ 1     │
│ 17      │ '43257319' │ '2025/03/04' │ 'LyricPost – A Spotify Lyrics Image Generator Built...' │ 'Dakil'           │ 1     │
│ 18      │ '43200611' │ '2025/02/28' │ 'Unenv – Node.js compatibility for any JavaScript r...' │ 'bodash'          │ 2     │
│ 19      │ '43205498' │ '2025/02/28' │ 'Basic design pattern examples in JavaScript'           │ 'AllThingsSmitty' │ 2     │
│ 20      │ '43193421' │ '2025/02/27' │ 'Bytebit Attack: $1.5B stolen through malicious Jav...' │ 's-mon'           │ 3     │
│ 21      │ '43196638' │ '2025/02/27' │ 'What is TypeScript? An overview for JavaScript pro...' │ 'ulrischa'        │ 2     │
│ 22      │ '43187217' │ '2025/02/26' │ "Malicious JavaScript on Safe.Global Targets Bybit'..." │ 'johnthewise'     │ 5     │
│ 23      │ '43179503' │ '2025/02/26' │ 'SmallJS – FOSS implementation of Smalltalk-80, whi...' │ 'gjvc'            │ 4     │
│ 24      │ '43181138' │ '2025/02/26' │ 'Ask HN: How do I hide sensitive parts of my JavaSc...' │ '01-_-'           │ 1     │
│ 25      │ '43170426' │ '2025/02/25' │ 'Introduction to JIT Vulnerabilities in JavaScript ...' │ 'AlgebraFox'      │ 2     │
│ 26      │ '43173304' │ '2025/02/25' │ 'Medium Editor, Vanilla JavaScript'                     │ 'janandonly'      │ 2     │
│ 27      │ '43168071' │ '2025/02/25' │ 'Show HN: TreeSpider: JavaScript library for displa...' │ 'javacrusher'     │ 1     │
│ 28      │ '43170762' │ '2025/02/25' │ 'Producing JavaScript code without runtime errors'      │ 'Aplikethewatch'  │ 1     │
│ 29      │ '43170993' │ '2025/02/25' │ 'ReScript: A Better Typed JavaScript? [video]'          │ 'todsacerdoti'    │ 1     │
│ 30      │ '43171227' │ '2025/02/25' │ 'CSS Puzzle Box 2.0 with no JavaScript'                 │ 'rapnie'          │ 1     │
│ 31      │ '43161282' │ '2025/02/24' │ 'I built a cross-platform, local-first environment ...' │ 'cplepage'        │ 3     │
│ 32      │ '43158355' │ '2025/02/24' │ 'Mastra – Open-source JavaScript agent framework'       │ 'javatuts'        │ 1     │
│ 33      │ '43151338' │ '2025/02/23' │ 'Speeding up the JavaScript Ecosystem: JavaScript p...' │ 'mhagemeister'    │ 2     │
│ 34      │ '43143297' │ '2025/02/22' │ 'Migrating 160K lines of JavaScript to TypeScript'      │ 'tnolet'          │ 2     │
│ 35      │ '43141779' │ '2025/02/22' │ 'What I Learned Making a Duck Hunt Clone in JavaScr...' │ 'JSLegendDev'     │ 1     │
│ 36      │ '43133996' │ '2025/02/21' │ 'Short and Sweet JavaScript/TypeScript Style Guide'     │ 'jay-barronville' │ 3     │
│ 37      │ '43124497' │ '2025/02/21' │ 'JavaScript Promises'                                   │ 'florentinos'     │ 1     │
│ 38      │ '43126987' │ '2025/02/21' │ 'Migrating 160k Lines of Banking JavaScript to Type...' │ 'tnolet'          │ 1     │
│ 39      │ '43127511' │ '2025/02/21' │ 'Stack Auth Updates #4: Vanilla JavaScript library ...' │ 'todsacerdoti'    │ 1     │
│ 40      │ '43109529' │ '2025/02/20' │ "Maybe you don't need Rust and WASM to speed up you..." │ 'vips7L'          │ 1     │
│ 41      │ '43121553' │ '2025/02/20' │ 'Building a Web Music Player with Next JavaScript a...' │ 'AutistiCoder'    │ 1     │
│ 42      │ '43103123' │ '2025/02/19' │ 'A "Keep it simple" state manager for JavaScript'       │ 'BrodaNoel'       │ 3     │
│ 43      │ '43098770' │ '2025/02/19' │ 'Show HN: Enigma – A VM-Based JavaScript Obfuscator'    │ 'youdi3'          │ 1     │
│ 44      │ '43091596' │ '2025/02/18' │ 'Svelte 5 is not JavaScript'                            │ 'jonstaab'        │ 174   │
│ 45      │ '43091449' │ '2025/02/18' │ 'Hiring a JavaScript Dev? Use These Interview Techn...' │ 'ViktoriiaYarosh' │ 1     │
│ 46      │ '43081618' │ '2025/02/17' │ '500 JavaScript Project Ideas'                          │ 'freemh'          │ 3     │
│ 47      │ '43067585' │ '2025/02/16' │ 'Rust Is Eating JavaScript (2023)'                      │ 'MrBuddyCasino'   │ 113   │
│ 48      │ '43064448' │ '2025/02/16' │ 'Learn the Basics of JavaScript and Kaplay to Make ...' │ 'JSLegendDev'     │ 3     │
│ 49      │ '43067560' │ '2025/02/16' │ 'Inappbrowser.com: see what JavaScript commands get...' │ 'fanf2'           │ 2     │
└─────────┴────────────┴──────────────┴─────────────────────────────────────────────────────────┴───────────────────┴───────┘


Total records in database: 164424
Database connection closed.
